<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Hack Your Design!</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <script src="/js/modernizr-2.6.2.min.js"></script>
    <link rel="stylesheet" href="/css/font-awesome.css">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body>
    <!--[if lt IE 7]> <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p> <![endif]-->
    <header class="clearfix">
  <div id="header-top">
    <h1 id="logo"><a href="/">Hack Your Design!</a></h1>
  </div>
  <div id="toggle-menu" class="clearfix"><i class="icon-reorder"></i></div>
  <nav id="navigation">
    <div id="toggle-item">
    <a href="/">Blog</a>
    <a href="/archive.html">Archive</a>
    <a href="/about.html">About</a>
    </div>
  </nav>
</header>


    <div class="main">
      <div id="contents">
       
  <!-- here add you post markup -->
  <h1><a href="/vimsublime-text-2/" class="title">Vimから３日で乗り換えた、次世代モテエディタ「Sublime Text 2」の魅力</a></h1>
  <div class="meta">Posted: <span>18 Dec 2012</span> Tags: <a href="/tag/rails.html">rails</a>
  </div>
  <div class="content">
    <p>本エントリは<a href="http://www.adventar.org/calendars/20">Sublime Text 2 Advent Calendar 2012</a>の19日目の記事として書きます。</p>
<p>前回の<a href="http://blog.toshimaru.net/jquery-ajaxdeferredajax">軽めのjQuery Advent Calendar 2012</a>に続いて2012年２回目のAdvent Calendar参加となります！</p>
<hr />
<p>クリスマス直前だのにこんな記事を読んでいる<span style="text-decoration: line-through;">モテない</span>勉強熱心な開発者の皆様、こんにちわ。クリスマスが近い今日は次世代「モテ」エディタと名高い（ソースは俺）、Sublime Text 2の魅力について大いに語ってみたいと思う。</p>
<p>[[posterous-content:jJyEcqwbFxhfmFFuGdhw]]</p>
<h3>暗黒Vim時代</h3>
<p>Sublime前はVimを使っていたけど、イマイチぱっとしない（モテない）。モテなそうなところというと、、、</p>
<ul>
<li><strong>環境毎の違い。</strong> VimといえばOS、環境を選ばず使えるエディタだ！なんてことよく聞くけどその微妙な環境ごとの挙動の差異がきになる。CUIとGUIじゃ全然使い勝手違うし、WindowsとMacでも微妙に違う（文字選択とかヤンクとか）。TPOに応じて適切に振る舞えるオトコがモテるというものです。</li>
<li><strong>嵩む設定ファイル。</strong> よくVimは自分専用にカスタマイズできる！とか言ってゴテゴテのガチャガチャにカスタマイズをしている（薦めている）人を見かけますが、逆にいうとカスタマイズしなければ使いにくいということ。一生懸命着飾って良くなろうとすることも重要ですが、ナチュラルに良いのならそれに越したことはないでしょう？</li>
<li><strong>オタク系キーバインド（俺命名）。</strong> 一般人にEmacsやVimを使わせてみてください。ドン引きです。jkでカーソルが移動するとか意味不明です。あなたがJK好きのロリ変態に間違われる危険性もあります。また、真っ黒な画面に白文字でドヤ顔でEnterキーを打鍵しているあなた。それを後ろで見ている一般人はドン引きです。１つのモノゴトに集中するのはけっこうですが、一般人の理解の範疇に留めておきましょう。</li>
<li><strong>Vim Scriptェ。</strong>まるで宇宙語。モテる男ならやっぱruby,pythonとか高級言語を使いたいよね〜。</li>
</ul>
<h3>Sublimeとの出会い - when I fell in love</h3>
<p>そんな感じで「新しいイケてるナウでヤングなエディタないかな〜」と探してた折、海外で人気っぽいエディタがあるという噂を聞きつけ試用したのが<a href="http://www.sublimetext.com/2">Sublime Text 2</a>でした。１日使ってその魅力に取り憑かれ、二日目にライセンス購入し、３日目にはもうお前しかいない！となりました。</p>
<p>日本でも最近よく耳にしたりするようになったので、ジワジワとSublime Text 2の魅力が認知され始めているようです。</p>
<p>それではそんなSublime Text 2の魅力を語ってみたいと思う。</p>
<h2>魅力１　クールなデザイン</h2>
<p>Sublime Text 2のデザインは超クール。パッと見はChromeのような洗練されたシンプルさを感じます。</p>
<p>[[posterous-content:xDiiulcHvzBmCmwDwtfH]]</p>
<p>またデフォルトで用意されているColor Scheme もイケてるものばかり。流行りの<a href="http://ethanschoonover.com/solarized">Solarized</a> もありますし、ダーク系なMonokai、ライト系のLAZYのようなColor Schemeもあります。どれか１つでも気に入ったものが見つかるでしょう。</p>
<p>もしなかったとしても<a href="http://tmtheme-editor.herokuapp.com/">Color Scheme Editor for Sublime</a>で自分好みのモノを作ってもいいですし、後述するパッケージマネージャからお好きなものを入れてもいい。</p>
<p>※Color Scheme Editor for Sublimeについては<a href="http://d.hatena.ne.jp/pikotea/20121204/1354613192">本Advent Calendar１日目の記事</a>で書かれています！</p>
<p>全体的な見た目が気に食わなければ Theme を好みのモノに入れ替えてやればよいです。</p>
<p>[[posterous-content:yfjwHvfgJklkFgzEIzul]]Night.sublime-theme + Monokai</p>
<h2>魅力２　無限に広がるコマンドパレット</h2>
<p>Vimでいうところの<code>:</code>でしょうか。<code>Ctrl + Shift + P</code> で展開するコマンドパレット。ここからgitのコマンドを実行したり（要 Git Package）、Syntaxを設定したり、各種プラグインを実行したり、各種設定ファイルを開いたりできます。</p>
<p>他にも</p>
<ul>
<li><code>⌘ + P</code> でのファイルオープン(eclipse でいうところの <code>Ctrl + Shift + R</code>) </li>
<li><code>⌘ + R</code> での関数ジャンプ (vimでいうところの <code>]]</code> <code>[[</code>&nbsp;)</li>
</ul>
<p>なんかが便利です。</p>
<h2>魅力３　パッケージマネージャ</h2>
<p>Sublime Text 2の一番の魅力かもしれないところ。プラグインをコマンドパレットでさくさくインストール・アンインストールできます。プラグインはpythonで書くことができ、Sublime Textを愛用する開発者が、活発にプラグインをgithub上に公開しています。</p>
<p>パッケージマネージャの導入は簡単。<code>ctrl+`</code>でコンソールを開いてこれを実行するだけ。</p>
<div class="CodeRay">
  <div class="code"><pre>import urllib2,os; pf='Package Control.sublime-package'; ipp=sublime.installed_packages_path(); os.makedirs(ipp) if not os.path.exists(ipp) else None; urllib2.install_opener(urllib2.build_opener(urllib2.ProxyHandler())); open(os.path.join(ipp,pf),'wb').write(urllib2.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read()); print 'Please restart Sublime Text to finish installation'</pre></div>
</div>

<p><a href="http://wbond.net/sublime_packages/package_control/installation">Sublime Package Control</a></p>
<p>あとはコマンドパレットで<code>Install Package</code> を選択してお好きなものをどうぞ。</p>
<h2>魅力４　わかりやすい操作感</h2>
<p>冒頭にオタク系キーバインドとか言いましたが、Sublime Textは直感的でわかりやすい操作感です。Mac/Windows それぞれに最適化されたショートカットが用意されています。</p>
<p>英語だけどこのへんよくまとまってます。(新しいGistってtextile表現できないん&hellip;??)</p>
<ul>
<li>Mac版：<a href="https://gist.github.com/1207002">Sublime Text 2 - Useful Shortcuts</a></li>
<li>Win版：<a href="https://gist.github.com/1736542">Sublime Text 2 - Useful Shortcuts</a></li>
</ul>
<h2>魅力５　Json Configuration</h2>
<p>もっと自分好みに設定したいあなたも安心、Json形式のシンプルな設定ファイルがあります。コマンドパレットで  <code>Preferences: Settings - User</code> を選択。そこでいろいろ設定できます。たとえばこんなん。</p>
<div class="CodeRay">
  <div class="code"><pre>{
     //フォントサイズ
     &quot;font_size&quot;: 13,
     //行間
     &quot;line_padding_top&quot;: 5,
     //タブサイズ
     &quot;tab_size&quot;: 4,
     //空白の削除
     &quot;trim_trailing_white_space_on_save&quot;: true,
     //タブやスペースなどの不過視文字を表示(お好みで)
     &quot;draw_white_space&quot;: &quot;all&quot;,
     //現在の選択行をハイライト表示(お好みで)
     &quot;highlight_line&quot;:true,
     //自動改行
     &quot;word_wrap&quot;: true
}</pre></div>
</div>

<p><a href="http://mnemoniqs.com/web/sublimetext2/">Sublime Text 2ってエディタがすごくイイ。Dreamweaverから乗り換えた時の初期設定とか使い方とかをメモ</a></p>
<p>え？ Sublime Textのキーバインドが気に入らない？　そんなあなたは <code>Preferences: Key Bindings - User</code> .</p>
<p>こちらでお好きにどうぞ。</p>
<h2>まとめ</h2>
<p>今年のIT系女子へのクリスマスプレゼントは、Sublime Text 2のライセンスでキマり！　Sublime Text 2は「恋に落ちるエディタ」いや、「恋に落としいれるエディタ」だったのだ！！！</p>
<p>（全然まとめじゃない）</p>
<hr />
<p>では次の方どうぞ〜</p>

  </div>
  <hr class="separator">

  <!-- here add you post markup -->
  <h1><a href="/jquery-ajaxdeferredajax/" class="title">jQuery モダンAjaxな書き方を目指して　〜deferredを使ったAJAX〜</a></h1>
  <div class="meta">Posted: <span>13 Dec 2012</span> Tags: <a href="/tag/rails.html">rails</a>
  </div>
  <div class="content">
    <p>本エントリは<a href="http://www.adventar.org/calendars/29">軽めのjQuery Advent Calendar 2012</a>の14日目の記事として書きます。</p>
<p>軽めといいながら少し重めになってしまった感がありますが、初めてのAdvent Calendar参加ということでご勘弁を。。。</p>
<h2>jQuery 1.4以前の書き方</h2>
<p>まずは、少し古めのコード、昔のjQueryの本とかでよく見る書き方。</p>
<div class="CodeRay">
  <div class="code"><pre>$.ajax({
    url: &quot;ajax.html&quot;,
    success: function(data) {
       alert('success!!');
    },
    error: function(data) {
       alert('error!!!');
    }
});</pre></div>
</div>

<h2>jQuery 1.5以上の書き方</h2>
<p>1.5以降だと、<code>$.ajax()</code> は<a href="http://api.jquery.com/jQuery.ajax/#jqXHR">jqXHRオブジェクト</a>を返すようになります。それを利用した書き方はこう。</p>
<div class="CodeRay">
  <div class="code"><pre>$.ajax({
    url: &quot;ajax.html&quot;,
}).success(function(data){
    alert('success!!');
}).error(function(data){
    alert('error!!!');
});</pre></div>
</div>

<p>成功時の処理と失敗時の処理がajax()と並列に書くことができ、コード全体の見通しがぐっとよくなりましたね。</p>
<h2>jQuery 1.8以上の書き方</h2>
<p><a href="http://api.jquery.com/jQuery.ajax/">公式リファレンス</a>いわく、</p>
<blockquote class="posterous_medium_quote">Deprecation Notice: The jqXHR.success(), jqXHR.error(), and jqXHR.complete() callbacks will be deprecated in jQuery 1.8. To prepare your code for their eventual removal, use jqXHR.done(), jqXHR.fail(), and jqXHR.always() instead.</blockquote>
<p>つまりjQuery1.8から</p>
<ul>
<li><code>success()</code> は <code>done()</code> に、</li>
<li><code>error()</code> は <code>fail()</code> に、</li>
<li><code>complete()</code> は <code>always()</code>を</li>
</ul>
<p>代わりに使ってね、ってことです。ということで、success(),error()は使わない。</p>
<div class="CodeRay">
  <div class="code"><pre>$.ajax({
    url: &quot;ajax.html&quot;,
}).done(function(data){
    alert('success!!');
}).fail(function(data){
    alert('error!!!');
});</pre></div>
</div>

<p>あるいは<code>then()</code>を用いてこう書いてもいいでしょう。</p>
<div class="CodeRay">
  <div class="code"><pre>$.ajax({
    url: &quot;ajax.html&quot;,
}).then(
function(data){ alert('success!!'); },
function(data){ alert('error!!');   }
);</pre></div>
</div>

<p>then() の一個目の関数が成功時、二個目の関数が失敗時となります。</p>
<h2>（発展編）Deferredを用いた書き方</h2>
<p>上述した例の中でさりげなくDeferredな書き方を使っていましたが、発展編ということでこのDeferredな書き方をさらに突き詰めてみましょう。</p>
<h3>deferredとは何か？</h3>
<blockquote class="posterous_medium_quote">
<p>jQuery.Deferred() introduces several enhancements to the way callbacks are managed and invoked. In particular, jQuery.Deferred() provides flexible ways to provide multiple callbacks, and these callbacks can be invoked regardless of whether the original callback dispatch has already occurred. jQuery Deferred is based on the CommonJS Promises/A design.</p>
<p>jQuery.Deferred() はコールバック関数の管理、実行に改善をもたらします。具体的には、jQuery.Deferred()は複数のコールバックの実行を柔軟に行うことができ、これらのコールバック関数は、オリジナルのコールバックのディスパッチが発生しているかどうかにかかわらず実行されます。</p>
</blockquote>
<p>要はコールバック関数の実行を延期(deferred)させて、.then() .fail() .always() なんかを使って柔軟にコールバックを管理、実行できるってことです（雑）。</p>
<p>詳しくは下記を読むとよいでしょう。</p>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/magazine/gg723713.aspx">Creating Responsive Applications Using jQuery Deferred and Promises</a></li>
<li>@tokkonoPapaさんによる上記事の翻訳はこちら:<a href="http://tokkono.cute.coocan.jp/blog/slow/index.php/programming/jquery-deferred-for-responsive-applications-basic/">jQueryのDeferredとPromiseで応答性の良いアプリをー基本編</a></li>
</ul>
<p>論より実践。deferredをうまく使ったAJAXコードを見てみましょう。</p>
<p><a href="http://jsfiddle.net/toshimaru/yP58L/1/light/">jsfiddleでの実例</a></p>
<div class="CodeRay">
  <div class="code"><pre>var Twitter = {
    search: function(query) {
        var defer = $.Deferred();
        $.ajax({
            url: &quot;http://search.twitter.com/search.json&quot;,
            data: {
                q: query,
                rpp: 50
            },
            dataType: 'jsonp',
            success: defer.resolve,
            error: defer.reject
        });
        return defer.promise();
    }
};

$('#button').on('click', function() {
    Twitter.search('jquery deferred').done(function(data) {
        console.log(data);
        $(data.results).each(function(k,v){ 
           $('#tweets').append(v.text + '&lt;br/&gt;'); 
        });
    });
});</pre></div>
</div>

<p>見てわかるとおり、deferredを使うことでtwitterの検索を行うAJAX部分と結果取得時のイベント処理部分が分離できます。</p>
<p>これによりネストが深くならずに済み、コードの可読性が上がります。また、イベント処理部分のほうは <code>Twitter.search('query hoge').done(function(){//code...})</code> と書くだけですから、ajax部分を気にすることなく結果取得後のイベント処理に意識を集中して書くことができます。素晴らしいですネ。</p>
<h2>（発展編２）$.when() を用いた書き方</h2>
<p><code>$.when()</code>を用いると複数のdeferredオブジェクトをまとめて管理できます。</p>
<p><a href="http://jsfiddle.net/toshimaru/nNMae/">jsfiddleでの実例</a></p>
<div class="CodeRay">
  <div class="code"><pre>// &quot;Twitter&quot; のコードは同上

$('#button').on('click', function() {
    $.when(Twitter.search('jquery deferred'), Twitter.search('jquery when')) 
    .then(function(data1, data2){
        console.log(data1);
        console.log(data2);
    });
});</pre></div>
</div>

<p>when内のdiferredオブジェクト全ての処理が完了すると、その後の処理が発火します。複数のAJAX結果をまとめて処理したいってときに使えます。</p>
<hr />
<p>いかがだったでしょうか？ diferredオブジェクトを使うことでより楽しいAjaxライフが送れそうですね。ワクワクしますね。</p>
<p>本日のコードは<a href="https://gist.github.com/4269484">gist</a>にも上げております。</p>
<p>では次の方にバトンタッチ〜</p>
<h3>参考</h3>
<ul>
<li><a href="http://d.hatena.ne.jp/aoe-tk/20110515/1305471586">jQueryのDeferredオブジェクトについて調べてみた</a></li>
<li><a href="http://tokkono.cute.coocan.jp/blog/slow/index.php/programming/how-happy-with-jquery-deferred-for-your-applications/">jQueryのDeferredとPromiseで応答性の良いアプリをー実践編</a></li>
</ul>

  </div>
  <hr class="separator">

  <!-- here add you post markup -->
  <h1><a href="/171554074/" class="title">Untitled</a></h1>
  <div class="meta">Posted: <span>12 Dec 2012</span> Tags: <a href="/tag/rails.html">rails</a>
  </div>
  <div class="content">
    <p><iframe src="http://jsfiddle.net/toshimaru/yP58L/1/embedded/" frameborder="0"></iframe></p>

  </div>
  <hr class="separator">

  <!-- here add you post markup -->
  <h1><a href="/iphone4/" class="title">iPhone4を着せ替えしてみた。</a></h1>
  <div class="meta">Posted: <span>11 Dec 2012</span> Tags: <a href="/tag/rails.html">rails</a>
  </div>
  <div class="content">
    <p>デフォルトのiPhoneに飽きてきたので着せ替えてみた。バックパネルの交換とバンパーを装着。</p>
<p>[[posterous-content:nCwACByfdkdisgrEtofz]]</p>
<p>使ったアイテムはこいつらです。（クリック先はAmazonリンク）</p>
<p><a href="http://www.amazon.co.jp/gp/product/B007VIMZZ2/ref=as_li_tf_il?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=B007VIMZZ2&amp;linkCode=as2&amp;tag=toshimaru-22"><img src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&amp;ASIN=B007VIMZZ2&amp;Format=_SL110_&amp;ID=AsinImage&amp;MarketPlace=JP&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=toshimaru-22" border="0" alt="" /></a><img src="http://www.assoc-amazon.jp/e/ir?t=toshimaru-22&amp;l=as2&amp;o=9&amp;a=B007VIMZZ2" border="0" height="1" alt="" style="border: none !important; margin: 0px !important;" width="1" /> <a href="http://www.amazon.co.jp/gp/product/B006ZZXLTQ/ref=as_li_tf_il?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=B006ZZXLTQ&amp;linkCode=as2&amp;tag=toshimaru-22"><img src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&amp;ASIN=B006ZZXLTQ&amp;Format=_SL110_&amp;ID=AsinImage&amp;MarketPlace=JP&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=toshimaru-22" border="0" alt="" /></a><img src="http://www.assoc-amazon.jp/e/ir?t=toshimaru-22&amp;l=as2&amp;o=9&amp;a=B006ZZXLTQ" border="0" height="1" alt="" style="border: none !important; margin: 0px !important;" width="1" /></p>

  </div>
  <hr class="separator">

  <!-- here add you post markup -->
  <h1><a href="/php-5492/" class="title">[php]実行速度を計測する</a></h1>
  <div class="meta">Posted: <span>02 Dec 2012</span> Tags: <a href="/tag/rails.html">rails</a>
  </div>
  <div class="content">
    <p>最初の１行＋最後の２行の３行でOK。</p>
<p><script src="https://gist.github.com/4188781.js"></script></p>
<p>これを使って<a href="http://blog.toshimaru.net/php-99717">処理のパフォーマンス比較をやる</a>と良い感じ。</p>

  </div>
  


<div class="pagination">
  
    <a href="/page1" class="previous">Previous</a>
  
  <span class="page_number ">Page: 2 of 11</span>
  
    <a href="/page3" class="next ">Next</a>
  
</div>

      </div>
    </div>

    <footer>
	<div class="main">
		<div class="wrapper clearfix">
			<div id="left">
				<h2>Recommend</h2>
				<ul>
					<li>right1</li>
					<li>right2</li>
					<li>right3</li>
				</ul>
				left left left left left left left left left left left left 
			</div>
			<div id="center">
				<h2>Category</h2>
				<ul>
					<li>center1</li>
					<li>center2</li>
					<li>center3</li>
				</ul>
				center center center center center center center center center center center center center center 
			</div>
			<div id="right">
				<h2>Tag</h2>
				<div><a href="/tag/javascript.html" class="set-1">javascript</a> <a href="/tag/jquery.html" class="set-1">jquery</a> <a href="/tag/markdown.html" class="set-1">markdown</a> <a href="/tag/npm.html" class="set-1">npm</a> <a href="/tag/rails.html" class="set-5">rails</a> <a href="/tag/sinatra.html" class="set-1">sinatra</a> <a href="/tag/tech.html" class="set-1">tech</a></div> 
			</div>
		</div>
  	<p class="credit">Designed by <a href="/about.html">Toshi</a></p>
	</div>
</footer>


    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
    <script src="/js/main.js"></script>
    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
        var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
  </body>
</html>
